import{a as W}from"./chunk-QGYMQMB6.js";import{a as B}from"./chunk-TUCURDTR.js";import{a as z}from"./chunk-AZNYGI37.js";import{E as S,F as o,K as E,M as k,O as T,P as I,Q as F,R as M,S as V,T as h,U as v,V as t,W as i,X as g,Y as b,Z as x,_ as c,ca as a,da as m,ea as _,ka as j,la as $,p as C,q as y,u as p,v as u,w as f,x as w,xa as P}from"./chunk-CJOGYO37.js";var H=(n,l)=>l.id,L=()=>[1,2,3,4,5];function D(n,l){n&1&&(f(),t(0,"svg",22),g(1,"path",23),i())}function G(n,l){if(n&1){let e=b();t(0,"button",18),x("click",function(){let s=p(e).$implicit,d=c();return u(d.selectCategory(s.id))}),t(1,"div",19)(2,"span",20),a(3),i(),t(4,"span",21),a(5),i()(),k(6,D,2,0,":svg:svg",22),i()}if(n&2){let e=l.$implicit,r=c();F("w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all duration-200 "+(r.selectedCategory()===e.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-secondary/50 text-foreground")),o(3),m(e.icon),o(2),m(e.name),o(),M(r.selectedCategory()===e.id?6:-1)}}function A(n,l){if(n&1&&(t(0,"span",33),a(1),i()),n&2){let e=l.$implicit,r=c().$implicit;o(),m(e<=r.rating?"\u2B50":"\u2606")}}function N(n,l){if(n&1){let e=b();t(0,"div",17)(1,"div",24)(2,"img",25),x("error",function(s){p(e);let d=c();return u(d.onImageError(s))}),i(),t(3,"button",26),x("click",function(){let s=p(e).$implicit,d=c();return u(d.toggleWishlist(s.id))}),f(),t(4,"svg",27),g(5,"path",28),i()()(),w(),t(6,"div",29)(7,"h3",30),a(8),i(),t(9,"div",31)(10,"div",32),h(11,A,2,1,"span",33,V),i(),t(13,"span",34),a(14),i()(),t(15,"div",35)(16,"span",36),a(17),i(),t(18,"button",37),x("click",function(){let s=p(e).$implicit,d=c();return u(d.addToCart(s))}),f(),t(19,"svg",22),g(20,"path",38),i(),w(),t(21,"span",39),a(22,"Ajouter"),i()()()()()}if(n&2){let e=l.$implicit,r=c();o(2),T("src",e.image,S)("alt",e.name),o(2),I("fill-destructive",r.isInWishlist(e.id))("text-destructive",r.isInWishlist(e.id))("text-foreground",!r.isInWishlist(e.id)),o(4),m(e.name),o(3),v($(11,L)),o(3),_("(",e.reviews,")"),o(3),_("",e.price.toFixed(2)," MAD")}}var X=(()=>{class n{constructor(){this.productService=C(W),this.cartService=C(z),this.categories=this.productService.getCategories(),this.selectedCategory=E(1),this.wishlist=[]}get currentProducts(){return this.productService.getProductsByCategory(this.selectedCategory())}get selectedCategoryName(){return this.categories.find(e=>e.id===this.selectedCategory())?.name||""}selectCategory(e){this.selectedCategory.set(e)}toggleWishlist(e){this.wishlist.includes(e)?this.wishlist=this.wishlist.filter(r=>r!==e):this.wishlist=[...this.wishlist,e]}isInWishlist(e){return this.wishlist.includes(e)}addToCart(e){this.cartService.addToCart(e)}onImageError(e){e.target.src="assets/placeholder.jpg"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=y({type:n,selectors:[["app-categories"]],standalone:!0,features:[j],decls:26,vars:2,consts:[[1,"min-h-screen","bg-background"],[1,"bg-gradient-to-r","from-primary/10","to-accent/10","py-8","md:py-12"],[1,"container","px-4","md:px-6","mx-auto"],[1,"text-3xl","md:text-4xl","font-bold","text-foreground","mb-2"],[1,"text-muted-foreground"],[1,"container","px-4","md:px-6","py-12","mx-auto"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-8"],[1,"lg:col-span-1"],[1,"sticky","top-24"],[1,"text-lg","font-bold","mb-4","text-foreground"],[1,"space-y-2"],[3,"class"],[1,"lg:col-span-3"],[1,"mb-6"],[1,"text-2xl","font-bold","text-foreground"],[1,"text-muted-foreground","mt-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"rounded-lg","border","border-border","bg-card","text-card-foreground","shadow-sm","overflow-hidden","hover:shadow-lg","transition-shadow"],[3,"click"],[1,"flex","items-center","gap-3"],[1,"text-xl"],[1,"font-medium"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"relative","aspect-square","bg-muted","overflow-hidden","group"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"error","src","alt"],[1,"absolute","top-3","right-3","p-2","rounded-full","bg-background/80","hover:bg-background","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"p-4"],[1,"font-semibold","text-foreground","mb-2","line-clamp-2"],[1,"flex","items-center","gap-1","mb-3"],[1,"flex"],[1,"text-sm"],[1,"text-xs","text-muted-foreground"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-bold","text-primary"],[1,"h-9","px-3","rounded-md","text-sm","inline-flex","items-center","justify-center","bg-primary","text-primary-foreground","hover:bg-primary/90","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"],[1,"hidden","sm:inline"]],template:function(r,s){r&1&&(g(0,"app-header"),t(1,"main",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Parcourir les cat\xE9gories"),i(),t(6,"p",4),a(7,"D\xE9couvrez nos produits s\xE9lectionn\xE9s par cat\xE9gorie"),i()()(),t(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"h2",9),a(13,"Cat\xE9gories"),i(),t(14,"div",10),h(15,G,7,5,"button",11,H),i()()(),t(17,"div",12)(18,"div",13)(19,"h2",14),a(20),i(),t(21,"p",15),a(22),i()(),t(23,"div",16),h(24,N,23,12,"div",17,H),i()()()()()),r&2&&(o(15),v(s.categories),o(5),m(s.selectedCategoryName),o(2),_("",s.currentProducts.length," produits disponibles"),o(2),v(s.currentProducts))},dependencies:[P,B],encapsulation:2})}}return n})();export{X as CategoriesComponent};
