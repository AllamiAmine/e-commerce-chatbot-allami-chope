import{a as N,b as B,c as F,d as H,e as q,f as D,g as X,k as O,l as U,m as Z}from"./chunk-AXTD64VB.js";import{Ea as W,F as a,Fa as G,G as R,Ja as J,K as _,M as y,O as V,Q as f,R as b,S as j,T as C,U as k,V as e,W as t,X as s,Y as L,Z as M,_ as g,ca as r,d as z,da as S,ea as h,ga as x,ha as v,ia as w,ka as A,q as P,u as E,v as T,w as m,x as u,xa as I}from"./chunk-CJOGYO37.js";var K=(o,p)=>p.value;function Q(o,p){if(o&1){let i=L();e(0,"button",65),M("click",function(){let n=E(i).$implicit,c=g();return T(c.selectedRole=n.value)}),e(1,"span",66),r(2),t(),e(3,"span",67),r(4),t(),e(5,"span",68),r(6),t()()}if(o&2){let i=p.$implicit,d=g();f("flex flex-col items-center gap-2 p-4 border-2 rounded-xl transition-all "+(d.selectedRole===i.value?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-border hover:border-primary/50")),a(2),S(i.icon),a(2),S(i.label),a(2),S(i.shortDesc)}}function Y(o,p){o&1&&(m(),e(0,"svg",33),s(1,"path",69),t())}function $(o,p){o&1&&(m(),e(0,"svg",33),s(1,"path",70)(2,"path",71),t())}function ee(o,p){if(o&1&&(e(0,"div",44)(1,"p",72),m(),e(2,"svg",51),s(3,"path",73),t(),r(4),t()()),o&2){let i=g();a(4),h(" ",i.errorMessage()," ")}}function te(o,p){if(o&1&&(e(0,"div",45)(1,"p",74),m(),e(2,"svg",51),s(3,"path",75),t(),r(4),t()()),o&2){let i=g();a(4),h(" ",i.successMessage()," ")}}function ie(o,p){o&1&&(m(),e(0,"svg",76),s(1,"circle",77)(2,"path",78),t(),u(),e(3,"span"),r(4,"Cr\xE9ation en cours..."),t())}function ne(o,p){if(o&1&&(e(0,"span"),r(1),t(),m(),e(2,"svg",79),s(3,"path",80),t()),o&2){let i=g();a(),h("Cr\xE9er mon compte ",i.getRoleLabel(),"")}}function re(o,p){o&1&&(m(),e(0,"svg",85),s(1,"path",75),t())}function oe(o,p){if(o&1&&(e(0,"span",88),r(1),t()),o&2){let i=p.$implicit;a(),S(i)}}function ae(o,p){if(o&1){let i=L();e(0,"div",81),M("click",function(){let n=E(i).$implicit,c=g();return T(c.selectedRole=n.value)}),e(1,"div",82),r(2),t(),e(3,"div",83)(4,"h3",84),r(5),y(6,re,2,0,":svg:svg",85),t(),e(7,"p",86),r(8),t(),e(9,"div",87),C(10,oe,2,1,"span",88,j),t()()()}if(o&2){let i=p.$implicit,d=g();f("flex items-start gap-4 backdrop-blur rounded-xl p-4 transition-all cursor-pointer "+(d.selectedRole===i.value?"bg-white/20 ring-2 ring-white/50":"bg-white/10 hover:bg-white/15")),a(2),h(" ",i.icon," "),a(3),h(" ",i.label," "),a(),b(d.selectedRole===i.value?6:-1),a(2),S(i.description),a(2),k(i.permissions)}}var he=(()=>{class o{constructor(i,d){this.authService=i,this.router=d,this.fullName="",this.email="",this.phone="",this.password="",this.confirmPassword="",this.acceptTerms=!1,this.selectedRole="client",this.showPassword=_(!1),this.isLoading=_(!1),this.errorMessage=_(""),this.successMessage=_(""),this.roleOptions=[{value:"client",icon:"\u{1F6D2}",label:"Client",shortDesc:"Acheter",description:"Parcourez et achetez des produits",permissions:["Acheter","Wishlist","Chat IA"]},{value:"seller",icon:"\u{1F3EA}",label:"Vendeur",shortDesc:"Vendre",description:"Vendez vos produits sur la plateforme",permissions:["G\xE9rer produits","Commandes","Analytics"]},{value:"admin",icon:"\u{1F451}",label:"Admin",shortDesc:"G\xE9rer",description:"Administrez la plateforme",permissions:["Tout acc\xE8s","Utilisateurs","Param\xE8tres"]}]}togglePassword(){this.showPassword.update(i=>!i)}passwordStrength(){if(!this.password)return 0;let i=0;return this.password.length>=8&&i++,/[a-z]/.test(this.password)&&/[A-Z]/.test(this.password)&&i++,/\d/.test(this.password)&&i++,/[^a-zA-Z0-9]/.test(this.password)&&i++,i}getPasswordStrengthText(){let i=this.passwordStrength();return i===0?"Entrez un mot de passe":i===1?"Faible - Ajoutez des majuscules et chiffres":i===2?"Moyen - Ajoutez des caract\xE8res sp\xE9ciaux":i===3?"Bon - Presque parfait !":"Excellent - Mot de passe s\xE9curis\xE9 !"}getRoleLabel(){let i=this.roleOptions.find(d=>d.value===this.selectedRole);return i?i.label:""}onSubmit(){return z(this,null,function*(){if(this.errorMessage.set(""),this.successMessage.set(""),!this.fullName||!this.email||!this.password||!this.confirmPassword){this.errorMessage.set("Veuillez remplir tous les champs obligatoires");return}if(this.password!==this.confirmPassword){this.errorMessage.set("Les mots de passe ne correspondent pas");return}if(this.password.length<8){this.errorMessage.set("Le mot de passe doit contenir au moins 8 caract\xE8res");return}if(!this.acceptTerms){this.errorMessage.set("Veuillez accepter les conditions d'utilisation");return}this.isLoading.set(!0);try{let i=yield this.authService.register({fullName:this.fullName,email:this.email,password:this.password,role:this.selectedRole,phone:this.phone||void 0});i.success?(this.successMessage.set(`Compte ${this.getRoleLabel()} cr\xE9\xE9 ! Redirection...`),setTimeout(()=>{let d=this.authService.getDefaultRedirect();this.router.navigate([d])},1500)):this.errorMessage.set(i.message)}catch{this.errorMessage.set("Une erreur est survenue")}finally{this.isLoading.set(!1)}})}static{this.\u0275fac=function(d){return new(d||o)(R(J),R(W))}}static{this.\u0275cmp=P({type:o,selectors:[["app-register"]],standalone:!0,features:[A],decls:116,vars:21,consts:[[1,"min-h-screen","flex"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","p-8","bg-background","overflow-y-auto"],[1,"w-full","max-w-md","py-8"],[1,"lg:hidden","text-center","mb-8"],[1,"w-16","h-16","bg-gradient-to-br","from-primary","to-accent","rounded-2xl","flex","items-center","justify-center","mb-4","mx-auto"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-8","h-8","text-white"],["d","M9 22V12h6v10"],["d","M2 12L12 2l10 10"],[1,"text-2xl","font-bold","text-foreground"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-foreground","mb-2"],[1,"text-muted-foreground"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-foreground","mb-3"],[1,"grid","grid-cols-3","gap-3"],["type","button",3,"class"],[1,"space-y-5",3,"ngSubmit"],["for","fullName",1,"block","text-sm","font-medium","text-foreground","mb-2"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-4","flex","items-center","pointer-events-none"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-muted-foreground"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","id","fullName","name","fullName","placeholder","Votre nom complet","required","",1,"w-full","pl-12","pr-4","py-3","border","border-input","rounded-xl","bg-background","text-foreground","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-foreground","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],["type","email","id","email","name","email","placeholder","exemple@email.com","required","",1,"w-full","pl-12","pr-4","py-3","border","border-input","rounded-xl","bg-background","text-foreground","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],["for","phone",1,"block","text-sm","font-medium","text-foreground","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["type","tel","id","phone","name","phone","placeholder","+212 6XX XXX XXX",1,"w-full","pl-12","pr-4","py-3","border","border-input","rounded-xl","bg-background","text-foreground","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-foreground","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["id","password","name","password","placeholder","Min. 8 caract\xE8res","required","",1,"w-full","pl-12","pr-12","py-3","border","border-input","rounded-xl","bg-background","text-foreground","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-4","flex","items-center",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-muted-foreground","hover:text-foreground","transition-colors"],[1,"mt-2"],[1,"flex","gap-1"],[1,"text-xs","text-muted-foreground","mt-1"],["for","confirmPassword",1,"block","text-sm","font-medium","text-foreground","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","required","",1,"w-full","pl-12","pr-4","py-3","border","border-input","rounded-xl","bg-background","text-foreground","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],[1,"flex","items-start","gap-3","cursor-pointer"],["type","checkbox","name","acceptTerms","required","",1,"w-4","h-4","mt-1","rounded","border-border","text-primary","focus:ring-primary",3,"ngModelChange","ngModel"],[1,"text-sm","text-muted-foreground"],["href","#",1,"text-primary","hover:underline"],[1,"p-4","bg-destructive/10","border","border-destructive/20","rounded-xl"],[1,"p-4","bg-green-500/10","border","border-green-500/20","rounded-xl"],["type","submit",1,"w-full","py-3","px-4","bg-gradient-to-r","from-primary","to-accent","text-primary-foreground","font-semibold","rounded-xl","hover:opacity-90","focus:outline-none","focus:ring-2","focus:ring-primary","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"mt-8","text-center","text-muted-foreground"],["routerLink","/login",1,"text-primary","font-semibold","hover:underline","ml-1"],[1,"mt-6","text-center"],["routerLink","/",1,"inline-flex","items-center","gap-2","text-sm","text-muted-foreground","hover:text-foreground","transition-colors"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"hidden","lg:flex","lg:w-1/2","bg-gradient-to-br","from-primary","via-primary/90","to-accent","relative","overflow-hidden"],[1,"absolute","inset-0"],[1,"absolute","top-20","right-20","w-72","h-72","bg-white/10","rounded-full","blur-3xl"],[1,"absolute","bottom-20","left-20","w-96","h-96","bg-white/5","rounded-full","blur-3xl"],[1,"relative","z-10","flex","flex-col","justify-center","items-center","w-full","p-12","text-white"],[1,"mb-8"],[1,"w-20","h-20","bg-white/20","backdrop-blur","rounded-2xl","flex","items-center","justify-center","mb-6","mx-auto"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-10","h-10","text-white"],[1,"text-4xl","font-bold","text-center","mb-2"],[1,"text-white/80","text-center","text-lg"],[1,"max-w-md","space-y-4"],[3,"class"],["type","button",3,"click"],[1,"text-2xl"],[1,"text-sm","font-medium","text-foreground"],[1,"text-[10px]","text-muted-foreground","text-center","leading-tight"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-sm","text-destructive","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-green-600","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5","animate-spin"],["cx","12","cy","12","r","10","stroke-opacity","0.25"],["d","M12 2a10 10 0 0 1 10 10","stroke-linecap","round"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[3,"click"],[1,"w-12","h-12","bg-white/20","rounded-lg","flex","items-center","justify-center","flex-shrink-0","text-2xl"],[1,"flex-1"],[1,"font-semibold","flex","items-center","gap-2"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-green-300"],[1,"text-sm","text-white/70"],[1,"flex","flex-wrap","gap-1","mt-2"],[1,"text-[10px]","bg-white/20","px-2","py-0.5","rounded-full"]],template:function(d,n){d&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(),e(5,"svg",5),s(6,"path",6)(7,"path",7),t()(),u(),e(8,"h1",8),r(9,"ShopAI"),t()(),e(10,"div",9)(11,"h2",10),r(12,"Cr\xE9er un compte"),t(),e(13,"p",11),r(14,"Rejoignez ShopAI et profitez de l'IA"),t()(),e(15,"div",12)(16,"label",13),r(17," Choisissez votre type de compte "),t(),e(18,"div",14),C(19,Q,7,5,"button",15,K),t()(),e(21,"form",16),M("ngSubmit",function(){return n.onSubmit()}),e(22,"div")(23,"label",17),r(24," Nom complet "),t(),e(25,"div",18)(26,"div",19),m(),e(27,"svg",20),s(28,"path",21),t()(),u(),e(29,"input",22),w("ngModelChange",function(l){return v(n.fullName,l)||(n.fullName=l),l}),t()()(),e(30,"div")(31,"label",23),r(32," Adresse email "),t(),e(33,"div",18)(34,"div",19),m(),e(35,"svg",20),s(36,"path",24),t()(),u(),e(37,"input",25),w("ngModelChange",function(l){return v(n.email,l)||(n.email=l),l}),t()()(),e(38,"div")(39,"label",26),r(40," T\xE9l\xE9phone "),e(41,"span",11),r(42,"(optionnel)"),t()(),e(43,"div",18)(44,"div",19),m(),e(45,"svg",20),s(46,"path",27),t()(),u(),e(47,"input",28),w("ngModelChange",function(l){return v(n.phone,l)||(n.phone=l),l}),t()()(),e(48,"div")(49,"label",29),r(50," Mot de passe "),t(),e(51,"div",18)(52,"div",19),m(),e(53,"svg",20),s(54,"path",30),t()(),u(),e(55,"input",31),w("ngModelChange",function(l){return v(n.password,l)||(n.password=l),l}),t(),e(56,"button",32),M("click",function(){return n.togglePassword()}),y(57,Y,2,0,":svg:svg",33)(58,$,3,0,":svg:svg",33),t()(),e(59,"div",34)(60,"div",35),s(61,"div")(62,"div")(63,"div")(64,"div"),t(),e(65,"p",36),r(66),t()()(),e(67,"div")(68,"label",37),r(69," Confirmer le mot de passe "),t(),e(70,"div",18)(71,"div",19),m(),e(72,"svg",20),s(73,"path",38),t()(),u(),e(74,"input",39),w("ngModelChange",function(l){return v(n.confirmPassword,l)||(n.confirmPassword=l),l}),t()()(),e(75,"div")(76,"label",40)(77,"input",41),w("ngModelChange",function(l){return v(n.acceptTerms,l)||(n.acceptTerms=l),l}),t(),e(78,"span",42),r(79," J'accepte les "),e(80,"a",43),r(81,"conditions d'utilisation"),t(),r(82," et la "),e(83,"a",43),r(84,"politique de confidentialit\xE9"),t()()()(),y(85,ee,5,1,"div",44)(86,te,5,1,"div",45),e(87,"button",46),y(88,ie,5,0)(89,ne,4,1),t()(),e(90,"p",47),r(91," D\xE9j\xE0 un compte ? "),e(92,"a",48),r(93," Se connecter "),t()(),e(94,"div",49)(95,"a",50),m(),e(96,"svg",51),s(97,"path",52),t(),r(98," Retour \xE0 l'accueil "),t()()()(),u(),e(99,"div",53)(100,"div",54),s(101,"div",55)(102,"div",56),t(),e(103,"div",57)(104,"div",58)(105,"div",59),m(),e(106,"svg",60),s(107,"path",6)(108,"path",7),t()(),u(),e(109,"h1",61),r(110,"ShopAI"),t(),e(111,"p",62),r(112,"Choisissez votre r\xF4le"),t()(),e(113,"div",63),C(114,ae,12,6,"div",64,K),t()()()()),d&2&&(a(19),k(n.roleOptions),a(10),x("ngModel",n.fullName),a(8),x("ngModel",n.email),a(10),x("ngModel",n.phone),a(8),V("type",n.showPassword()?"text":"password"),x("ngModel",n.password),a(2),b(n.showPassword()?57:58),a(4),f("h-1 flex-1 rounded-full transition-colors "+(n.passwordStrength()>=1?"bg-red-500":"bg-muted")),a(),f("h-1 flex-1 rounded-full transition-colors "+(n.passwordStrength()>=2?"bg-yellow-500":"bg-muted")),a(),f("h-1 flex-1 rounded-full transition-colors "+(n.passwordStrength()>=3?"bg-green-500":"bg-muted")),a(),f("h-1 flex-1 rounded-full transition-colors "+(n.passwordStrength()>=4?"bg-green-600":"bg-muted")),a(2),h(" ",n.getPasswordStrengthText()," "),a(8),x("ngModel",n.confirmPassword),a(3),x("ngModel",n.acceptTerms),a(8),b(n.errorMessage()?85:-1),a(),b(n.successMessage()?86:-1),a(),V("disabled",n.isLoading()),a(),b(n.isLoading()?88:89),a(26),k(n.roleOptions))},dependencies:[I,Z,X,B,N,F,H,O,U,D,q,G],encapsulation:2})}}return o})();export{he as RegisterComponent};
